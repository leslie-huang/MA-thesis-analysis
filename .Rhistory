values = c("grey30", "grey50", "grey80", "black")) +
scale_linetype_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c(1, 2, 3, 4)) +
theme_bw()
predicted_mnl_gg
predicted_mnl_gg <- ggplot(data = mod1_long, aes(y = predicted_Pr, x = as.Date(date, origin = "1970-01-01"), group = state)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = state, color = state)) +
labs(
x = "Date",
y = "Probability") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c("grey35", "grey55", "grey80", "black")) +
scale_linetype_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c(1, 2, 3, 4)) +
theme_bw()
predicted_mnl_gg
predicted_mnl_gg <- ggplot(data = mod1_long, aes(y = predicted_Pr, x = as.Date(date, origin = "1970-01-01"), group = state)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = state, color = state)) +
labs(
x = "Date",
y = "Probability") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c("grey40", "grey60", "grey80", "black")) +
scale_linetype_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c(1, 2, 3, 4)) +
ggtitle("Probability of Each State Over Time")
theme_bw()
predicted_mnl_gg <- ggplot(data = mod1_long, aes(y = predicted_Pr, x = as.Date(date, origin = "1970-01-01"), group = state)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = state, color = state)) +
labs(
x = "Date",
y = "Probability") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c("grey40", "grey60", "grey80", "black")) +
scale_linetype_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c(1, 2, 3, 4)) +
ggtitle("Probability of Each State Over Time") +
theme_bw()
predicted_mnl_gg <- ggplot(data = mod1_long, aes(y = predicted_Pr, x = as.Date(date, origin = "1970-01-01"), group = state)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = state, color = state)) +
labs(
x = "Date",
y = "Probability") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c("grey40", "grey60", "grey80", "black")) +
scale_linetype_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c(1, 2, 3, 4)) +
ggtitle("Probability of Each State Over Time")
theme_bw()
predicted_mnl_gg <- ggplot(data = mod1_long, aes(y = predicted_Pr, x = as.Date(date, origin = "1970-01-01"), group = state)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = state, color = state)) +
labs(
x = "Date",
y = "Probability") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c("grey40", "grey60", "grey80", "black")) +
scale_linetype_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c(1, 2, 3, 4)) +
ggtitle("Probability of Each State Over Time") +
theme_bw()
predicted_mnl_gg
predicted_mnl_gg <- ggplot(data = mod1_long, aes(y = predicted_Pr, x = as.Date(date, origin = "1970-01-01"), group = state)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = state, color = state)) +
labs(
x = "Date",
y = "Probability") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c("grey50", "grey60", "grey80", "black")) +
scale_linetype_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c(1, 2, 3, 4)) +
ggtitle("Probability of Each State Over Time") +
theme_bw()
predicted_mnl_gg
predicted_mnl_gg <- ggplot(data = mod1_long, aes(y = predicted_Pr, x = as.Date(date, origin = "1970-01-01"), group = state)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = state, color = state)) +
labs(
x = "Date",
y = "Probability") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c("grey60", "grey50", "grey80", "black")) +
scale_linetype_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c(1, 2, 3, 4)) +
ggtitle("Probability of Each State Over Time") +
theme_bw()
predicted_mnl_gg
predicted_mnl_gg <- ggplot(data = mod1_long, aes(y = predicted_Pr, x = as.Date(date, origin = "1970-01-01"), group = state)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = state, color = state)) +
labs(
x = "Date",
y = "Probability") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c("grey30", "grey50", "grey75", "black")) +
scale_linetype_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c(1, 2, 3, 4)) +
ggtitle("Probability of Each State Over Time") +
theme_bw()
predicted_mnl_gg
predicted_mnl_gg <- ggplot(data = mod1_long, aes(y = predicted_Pr, x = as.Date(date, origin = "1970-01-01"), group = state)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = state, color = state)) +
labs(
x = "Date",
y = "Probability") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c("grey30", "grey50", "grey70", "black")) +
scale_linetype_manual(name = "State",
labels = c("FARC-low", "FARC-high", "Govt-low", "Govt-high"),
values = c(1, 2, 3, 4)) +
ggtitle("Probability of Each State Over Time") +
theme_bw()
predicted_mnl_gg
View(FARC_results)
View(FARC_results)
FARC_results_melt <- FARC_results[, -1]
FARC_results_melt$id <- rep(1:length(FARC_results[,1]))
FARC_results_melt <- melt(FARC_results_melt, id = c("date", "id"), variable.name = "sentiment_type", value.name = "sentiment_measure")
View(FARC_results_melt)
FARC_results_melt <- FARC_results[, -4]
FARC_results_melt$id <- rep(1:length(FARC_results[,1]))
FARC_results_melt <- melt(FARC_results_melt, id = c("date", "id"), variable.name = "sentiment_type", value.name = "sentiment_measure")
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_measure, color = sentiment_measure)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey65", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey65", "black")) +
ggtitle("Proportion of Each Type Sentiment") +
theme_bw()
FARC_melt_gg
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
#  scale_colour_grey(start = 0, end = .85) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey65", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey65", "black")) +
ggtitle("Proportion of Each Type Sentiment") +
theme_bw()
FARC_melt_gg
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey65", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey65", "black")) +
ggtitle("Proportion of Each Type Sentiment") +
theme_bw()
FARC_melt_gg
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey65", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey65", "black")) +
ggtitle("Proportion of Each Type Sentiment") +
theme_bw()
FARC_melt_gg
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
ggtitle("Proportion of Each Type Sentiment") +
theme_bw()
FARC_melt_gg
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
ggtitle("Proportion of Each Type Sentiment") +
theme_bw()
FARC_melt_gg
rm(list=ls())
setwd("/Users/lesliehuang/Dropbox/MA-thesis-analysis/")
set.seed(1234)
libraries <- c("foreign", "utils", "stargazer", "dplyr", "devtools", "quanteda", "ggplot2", "stringr", "LIWCalike", "austin", "forecast", "lmtest", "strucchange", "vars", "tseries", "urca", "depmixS4", "rrcov", "mlogit", "reshape2", "MCDM", "car")
lapply(libraries, require, character.only=TRUE)
devtools::install_github("ggbiplot", "vqv")
library(ggbiplot)
# get LIWC dict
spanish_dict <- dictionary(file = "../LIWC/Spanish_LIWC2007_Dictionary.dic", format = "LIWC")
##################################################################################
##################################################################################
# get monthly levels of violence
monthly_viol <- read.csv("../MA-datasets/violence_stats.csv", stringsAsFactors = FALSE)
monthly_viol$date <- as.Date(as.yearmon(monthly_viol$date, "%Y-%m"))
monthly_viol[,2:4] <- sapply(monthly_viol[,2:4], function(x) { as.numeric(x)})
monthly_viol <- subset(monthly_viol, select = c(2:4, 1))
# some major dates for plotting
major_violence <- as.Date(c("7/20/13", "1/16/13", "7/29/14", "11/16/14", "4/15/15", "5/31/15", "6/15/15", "6/22/15"), "%m/%d/%y")
major_agree <- as.Date(c("8/26/12", "5/26/13", "11/6/13", "5/16/14", "3/7/15", "6/2/15", "9/23/15"), "%m/%d/%y")
cf_start <- as.Date(c("11/20/12", "12/15/13", "5/16/14", "12/20/14", "7/20/15"), "%m/%d/%y")
cf_end <- as.Date(c("1/20/13", "1/15/14", "5/28/14", "5/22/15", "1/1/16"), "%m/%d/%y")
ceasefires <- data.frame(start = as.Date(c("11/20/12", "12/15/13", "5/16/14", "12/20/14", "7/20/15"), "%m/%d/%y"), end = as.Date(c("1/20/13", "1/15/14", "5/28/14", "5/22/15", "1/1/16"), "%m/%d/%y"))
# df of all dates
dates <- rbind(data.frame(date = major_violence, group = "major_viol"), data.frame(date = major_agree, group = "major_agree"), data.frame(date = cf_start, group = "ceasefire_start"), data.frame(date = cf_end, group = "ceasefire_end"))
dates <- arrange(dates, date)
stargazer(dates, title="Labeling states using major events", digits = 2, digit.separator = "", summary = FALSE)
##################################################################################
# Some functions to extract sentiment, loess it, and return results
# Function to get raw LIWC measures
liwc_extractor <- function(df) {
# run liwc
liwc_results <- liwcalike(df$text, spanish_dict)
# get date metadata
df_dates <- dplyr::select(df, date)
date <- as.Date(df_dates[[1]], "%Y-%m-%d")
# extract the measures we want
liwc_results <- dplyr::select(liwc_results, EmoNeg, EmoPos, Ellos, Muerte)
# make the dataframe
results_df <- data.frame(cbind(sapply(liwc_results, function(x) {as.numeric(x)})))
results_df$date <- as.Date(date, "%Y-%m-%d")
return(results_df)
}
# Function to take a df of raw LIWC values and return loessed values
liwc_loess <- function(liwc_results) {
date <- as.Date(liwc_results$date, origin = "1970-01-01")
results_df <- data.frame(cbind(sapply(liwc_results[,1:4], function(x) { loess(x ~ as.numeric(liwc_results$date), control = loess.control(surface = "direct"))$y})))
results_df$date <- date
return(results_df)
}
# Function to return loess predictions as a list
loess_lines <- function(liwc_results) {
list_models <- list(sapply(liwc_results[,1:4], function(x) {loess(x ~ as.numeric(liwc_results$date), control=loess.control(surface="direct"))}))
return(list_models)
}
#################################################################################
# import FARC communiques
FARC <- read.csv("../MA-datasets/FARC_communiques.csv", stringsAsFactors = FALSE)
# fill in a document that didn't get scraped
FARC[120, 1] <- "2016-05-30"
FARC[120, 2] <- "Informamos sobre la muerte del Camarada Bernardo Peñaloza"
FARC[120, 3] <- ""
FARC[120, 4] <- "COMUNICADO: Mayo 30 de 2016 Lamentamos informar a toda la guerrillerada y a la opinión pública nacional e internacional, que el día 25 de Mayo el camarada Bernardo Peñaloza, ex integrante de la Comisión de Paz en los diálogos de la Habana, tras una larga y fructífera vida entregada a la lucha por la revolución y los cambios sociales, en territorio colombiano y en cumplimiento de sus tareas, falleció como consecuencia de un paro cardiaco.Expresamos nuestras condolencias a sus familiares y amigos que lo conocieron. Rendimos homenaje a su memoria y a su ejemplo de dedicación y lealtad a la causa de los oprimidos. Paz en su tumba. Estado Mayor Central de las FARC EP."
# exclude documents prior to 9/2012
FARC$date <- as.Date(FARC$date, "%Y-%m-%d")
FARC <- filter(FARC, date >= "2012-09-01")
# raw LIWC measures
FARC_raw <- liwc_extractor(FARC)
# loess it
FARC_results <- liwc_loess(FARC_raw)
# get the loess lines for plotting
FARC_lines <- loess_lines(FARC_raw)
#################################################################################
# do the same for joint communiques
joint <- read.csv("../MA-datasets/jointstatements.csv", stringsAsFactors = FALSE)
joint[18, 2] <- "Las delegaciones del Gobierno y las Farc-ep informan que la Mesa de Conversaciones retomará las sesiones de trabajo el próximo viernes 3 de julio para continuar discutiendo el tema de reparación que hace parte del Punto 5 de la Agenda “Víctimas”."
joint[20, 2] <- "Las delegaciones del Gobierno y las FARC-EP, en el marco del “ACUERDO SOBRE LIMPIEZA Y DESCONTAMINACIÓN DEL TERRITORIO DE LA PRESENCIA DE MINAS ANTIPERSONAL (MAP), ARTEFACTOS EXPLOSIVOS IMPROVISADOS (AEI) Y MUNICIONES SIN EXPLOTAR (MUSE) O RESTOS EXPLOSIVOS DE GUERRA (REG) EN GENERAL”, anunciado de manera conjunta el pasado 7 de marzo de 2015, se permiten informar los siguientes avances: 1. Como es de conocimiento público, las delegaciones seleccionaron la vereda El Orejón ubicada en el municipio de Briceño, Antioquia, para iniciar el proyecto piloto de desminado. 2. Hasta la zona viajó el grupo de gestión conformado por: delegados del Gobierno (Dirección para la Acción Integral contra Minas Antipersonal y el Batallón Humanitario de Desminado del Ejército Nacional), miembros representantes de las FARC-EP, técnicos de la organización Ayuda Popular Noruega (APN) con el acompañamiento de Cuba y Noruega, países garantes; y del Comité Internacional de la Cruz Roja (CICR). 3. Luego de la selección de sitios, se inició la segunda fase del proyecto denominada Estudio No Técnico (ENT) con el fin de recopilar la información para identificar las áreas realmente contaminadas por minas antipersonal (MAP), artefactos explosivos improvisados (AEI) y municiones sin explotar (MUSE) o restos explosivos de guerra (REG). Un equipo liderado por la Ayuda Popular Noruega (APN) entró en contacto con las comunidades para realizar entrevistas con el fin de recopilar información y socializar el proyecto. 4. El Estudio No Técnico (ENT) tuvo una duración de cerca de 7 días en campo. Pese a la complejidad del terreno,  las condiciones climáticas y la naturaleza del proyecto se registraron resultados satisfactorios. 5. Como resultado de un trabajo coordinado entre el Gobierno y las FARC-EP, se identificaron 4 áreas peligrosas que suman aproximadamente 12 mil metros cuadrados. El trabajo de limpieza de estas áreas contaminadas que serán despejadas como producto del Acuerdo, facilitarán la movilidad de la comunidad en riesgo y permitirán la restauración de derechos de las comunidades en términos de movilidad, esparcimiento, acceso a vías terrestres y uso productivo de la tierra. 6. Durante el Estudio No Técnico (ENT) se recogió la información precisa y útil para la siguiente fase de “limpieza y descontaminación”. 7. Como quedó establecido en el Acuerdo, el compromiso es mantener las áreas intervenidas libres de minas y artefactos explosivos, como una garantía de no repetición para el beneficio de las comunidades. 8. Agradecemos a la Ayuda Popular Noruega (APN), a Cuba y Noruega, países garantes; al Comité Internacional de la Cruz Roja (CICR), la Gobernación de Antioquia y a las autoridades locales por su apoyo y colaboración. 9. Queremos extender un especial agradecimiento a la comunidad de la vereda El Orejón por su disposición, respaldo y conciencia al adoptar comportamientos seguros ante el riesgo de las minas antipersonal. 10. Confiamos en que esta primera medida conjunta de desescalamiento permita en un tiempo prudencial llevar alivio a las comunidades más afectadas por el conflicto y avanzar hacia la solución de este."
# LIWC estimates
joint_raw <- liwc_extractor(joint)
# loessed point estimates
joint_results <- liwc_loess(joint_raw)
# get the loess lines for plotting
joint_lines <- loess_lines(joint_raw)
#################################################################################
# and the same for govt statements
govt <- read.csv("govtstatements.csv", stringsAsFactors = FALSE)
# LIWC estimates
govt_raw <- liwc_extractor(govt)
# loessed point estimates
govt_results <- liwc_loess(govt_raw)
# get the loess lines for plotting
govt_lines <- loess_lines(govt_raw)
FARC_results_melt <- FARC_results[, -4]
FARC_results_melt$id <- rep(1:length(FARC_results[,1]))
FARC_results_melt <- melt(FARC_results_melt, id = c("date", "id"), variable.name = "sentiment_type", value.name = "sentiment_measure")
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
ggtitle("Proportion of Each Type Sentiment") +
theme_bw()
FARC_melt_gg
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c(1,2,3)) +
ggtitle("Proportion of Each Type Sentiment") +
theme_bw()
FARC_melt_gg
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c(1,2,3)) +
ggtitle("FARC: Sentiment Proportion of Document") +
theme_bw()
govt_results_melt <- govt_results[, -4]
govt_results_melt$id <- rep(1:length(govt_results[,1]))
govt_results_melt <- melt(govt_results_melt, id = c("date", "id"), variable.name = "sentiment_type", value.name = "sentiment_measure")
govt_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c(1,2,3)) +
ggtitle("Govt: Sentiment Proportion of Document") +
theme_bw()
govt_melt_gg
FARC_melt_gg
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c(1,2,3)) +
ggtitle("FARC: Loessed % of Document Contributed by Sentiment Type") +
theme_bw()
govt_results_melt <- govt_results[, -4]
govt_results_melt$id <- rep(1:length(govt_results[,1]))
govt_results_melt <- melt(govt_results_melt, id = c("date", "id"), variable.name = "sentiment_type", value.name = "sentiment_measure")
govt_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Sentiment Proportion of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c(1,2,3)) +
ggtitle("Govt: Loessed % of Document Contributed by Sentiment Type") +
theme_bw()
FARC_melt_gg
govt_melt_gg
FARC_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Loessed % of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c(1,2,3)) +
ggtitle("FARC: Loessed % of Document Contributed by Sentiment Type") +
theme_bw()
govt_results_melt <- govt_results[, -4]
govt_results_melt$id <- rep(1:length(govt_results[,1]))
govt_results_melt <- melt(govt_results_melt, id = c("date", "id"), variable.name = "sentiment_type", value.name = "sentiment_measure")
govt_melt_gg <- ggplot(data = FARC_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Loessed % of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c(1,2,3)) +
ggtitle("Govt: Loessed % of Document Contributed by Sentiment Type") +
theme_bw()
govt_melt_gg
FARC_melt_gg
joint_results_melt <- joint_results[, -4]
joint_results_melt$id <- rep(1:length(joint_results[,1]))
joint_results_melt <- melt(joint_results_melt, id = c("date", "id"), variable.name = "sentiment_type", value.name = "sentiment_measure")
joint_melt_gg <- ggplot(data = joint_results_melt, aes(y = sentiment_measure, x = as.Date(date, origin = "1970-01-01"), group = sentiment_type)) +
geom_smooth(method = "loess", se = FALSE, aes(linetype = sentiment_type, color = sentiment_type)) +
labs(
x = "Date",
y = "Loessed % of Document") +
scale_x_date(date_minor_breaks = "1 month",
limits = c(as.Date("2012-06-01", "%Y-%m-%d"), NA)) +
scale_colour_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c("grey30", "grey70", "black")) +
scale_linetype_manual(name = "Sentiment",
labels = c("Neg. emotion", "Pos. emotion", "3rd per. pl."),
values = c(1,2,3)) +
ggtitle("Joint: Loessed % of Document Contributed by Sentiment Type") +
theme_bw()
joint_melt_gg
